<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultrag.net.nz/thymeleaf/layout">

<head>
    <meta http-equiv="Content-Type" content="text/html"; charset="utf-8" />
    <title></title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/bootstrap-table.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/table.css}" rel="stylesheet" type="text/css"/>
</head>
<body style="background-color: #ecf0f5;font-family: 微软雅黑;color: #475059;min-width: 1000px;overflow: auto">
<div class="notice_main">
    <div class="notice_check">
        <div class="btn-group l_left" style="margin-right: 4px">
            <button type="button" class="btn btn-default change" style="height: 30px;line-height: 30px;padding: 0 12px !important;font-size: 12px">邮箱账号</button>
        </div>
        <div class="l_left">
            <input type="text" class="find_input" id="emailName">

        </div>
        <button class="check_btn" id="searchBtn">查询</button>
    </div>
    <table id="table" class="table_style" style="margin: 0 auto" > </table>
</div>

<script th:src="@{/js/jQuery-2.2.0.min.js}" type="text/javascript"></script>
<script th:src="@{/js/bootstrap.min.js}" type="text/javascript"></script>
<script th:src="@{/js/bootstrap-table.js}" type="text/javascript"></script>
<script th:src="@{/js/bootstrap-table-zh-CN.min.js}" type="text/javascript"></script>
<script th:src="@{/js/layer.js}" type="text/javascript"></script>

<script type="text/javascript">
    $("#searchBtn").click(function () {
        $('#table').bootstrapTable({
            url: "/sms/emailyzm?emailName="+$("#emailName").val(),
            /* data: JSON.stringify(params),*/
            /*pagination: true, //分页
            pageSize: 10,
            pageNumber: 1,*/
            //将json字符串转为json对象
            /*queryParams: JSON.stringify(params),*/
            columns: [
                {
                    title: "邮箱账号",
                    field: 'emailName',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '验证码',
                    field: 'emailCode',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '发送时间',
                    field: 'emailCreatetime',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '验证码状态',
                    field: 'emailStatus',
                    align: 'center',
                    formatter: function (value, row, index) {
                        if (value == 1) {
                            return "可使用";
                        } else {
                            return "已失效";
                        }
                    }
                }
            ]
        });
    })
</script>

</body>
</html>
